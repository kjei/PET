<!-- Search file for "CHANGE" for my own changes -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>simulator.eclipse API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>simulator.eclipse</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="simulator.eclipse.eclipse"><code class="flex name class">
<span>class <span class="ident">eclipse</span></span>
<span>(</span><span>input_dict=None, filename=None, options=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Class for running the Schlumberger eclipse 100 black oil reservoir simulator. For more information see
GeoQuest:
ECLIPSE reference manual 2009.1. Schlumberger, GeoQuest (2009).</p>
<p>To run this class, eclipse must be installed and elcrun must be in the system path!</p>
<h2 id="kf-119-2015">KF 11/9-2015</h2>
<p>The inputs are all optional, however, in the same fashion as the other simulators a system must be followed. The
input_dict can be utilized as a single input. Here all nescessary info is stored. Alternatively, if input_dict
is not defined, all the other input variables must be defined.</p>
<p>Input option 1:
- input_dict:
Dictionary containing all information required to run the simulator.</p>
<p>Input option 2:
- filename:
Name of the .mako file utilized to generate the ecl input .DATA file. Must be upper case
for the ecl simulator
- options:
Dict. with options for simulator
'sim_path':
Path to simulator</p>
<h2 id="output">Output</h2>
<p>A initial object from the class ecl_100</p>
<h2 id="kf-119-2015_1">KF 11/9-2015</h2></div>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="simulator.eclipse.ecl_100" href="#simulator.eclipse.ecl_100">ecl_100</a></li>
<li><a title="simulator.eclipse.ecl_300" href="#simulator.eclipse.ecl_300">ecl_300</a></li>
<li><a title="simulator.opm.ebos" href="opm.html#simulator.opm.ebos">ebos</a></li>
<li><a title="simulator.opm.flow" href="opm.html#simulator.opm.flow">flow</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="simulator.eclipse.eclipse.setup_fwd_run"><code class="name flex">
<span>def <span class="ident">setup_fwd_run</span></span>(<span>self, assimIndex=None, trueOrder=None, pred_data=None, redundant_sim=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Setup the simulator.</p>
<p>Optional input:
- assimIndex: Gives the index-type (e.g. step,time,etc.) and the index for the data to be
assimilated
- trueOrder: Gives the index-type (e.g. step,time,etc.) and the index of the true data</p>
<hr></div>
</dd>
<dt id="simulator.eclipse.eclipse.run_fwd_sim"><code class="name flex">
<span>def <span class="ident">run_fwd_sim</span></span>(<span>self, state, member_i, del_folder=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Setup and run the ecl_100 forward simulator. All the parameters are defined as attributes, and the name of the
parameters are initialized in setupFwdRun. This method sets up and runs all the individual ensemble members.
This method is based on writing .DATA file for each ensemble member using the mako template, for more info
regarding mako see <a href="http://www.makotemplates.org/">http://www.makotemplates.org/</a></p>
<h2 id="input">Input</h2>
<ul>
<li>state:
Dictonary containing the ensemble state</li>
<li>member_i:
Index of ensemble member</li>
<li>Del folder:
Boolean to determine if ensemble folder should be deleted</li>
</ul>
<hr></div>
</dd>
<dt id="simulator.eclipse.eclipse.remove_folder"><code class="name flex">
<span>def <span class="ident">remove_folder</span></span>(<span>self, member)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="simulator.eclipse.eclipse.extract_data"><code class="name flex">
<span>def <span class="ident">extract_data</span></span>(<span>self, member)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="simulator.eclipse.eclipse.coarsen"><code class="name flex">
<span>def <span class="ident">coarsen</span></span>(<span>self, folder, ensembleMember=None)</span>
</code></dt>
<dd>
<div class="desc"><p>This method utilized one field parameter to upscale the computational grid. A coarsening file is written to the
ensemble folder, and the eclipse calculates the upscaled permeabilities, porosities and transmissibilities
based on the new grid and the original parameter values.</p>
<h2 id="input">Input</h2>
<ul>
<li>Folder: Path to the ecl_100 run</li>
</ul>
<p>Alternative input:
- ensembleMember: Index of the ensemble member to run</p>
<h2 id="kf-179-2015">KF 17/9-2015</h2>
<p>Added uniform upscaling as an option
KF 6/01-17</p>
<hr></div>
</dd>
<dt id="simulator.eclipse.eclipse.write_coarse"><code class="name flex">
<span>def <span class="ident">write_coarse</span></span>(<span>self, folder, whgt, image)</span>
</code></dt>
<dd>
<div class="desc"><p>This function writes the include file coarsen to the ecl run. This file tels ECL to coarsen the grid.</p>
<h2 id="input">Input</h2>
<ul>
<li>folder:
Path to the ecl_100 run</li>
<li>whgt:
Weight of the transformed cells</li>
<li>image:
original image</li>
</ul>
<h2 id="kf-179-2015">KF 17/9-2015</h2></div>
</dd>
<dt id="simulator.eclipse.eclipse.get_sim_results"><code class="name flex">
<span>def <span class="ident">get_sim_results</span></span>(<span>self, whichResponse, ext_data_info=None, member=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Read the output from simulator and store as an array. Optionally, if the DA method is based on an ensemble
method, the output must be read inside a folder.</p>
<h2 id="input">Input</h2>
<ul>
<li>file.rsm:
Summary file from ECL 100 (file is an attribute of self)</li>
<li>file.*rst:
Restart file from ECL 100 (file is an attribute of self)</li>
<li>whichResponse:
Which of the responses is to be outputted (e.g., WBHP PRO-1, WOPR, PRESS, OILSAT, etc)</li>
</ul>
<p>Optional input:
- member:
Ensemble member that is finished
- ext_data_info.
At what place is the assimilation step (e.g., which TIME)
and the index of this assimilation place</p>
<h2 id="output">Output</h2>
<ul>
<li>yFlow:
Array containing the response from ECL 100. Response type is chosen by the user
in options['data_type'].</li>
</ul>
<h2 id="kf-159-2015">KF 15/9-2015</h2>
<p>Modified the ecl package to allow reading the summary data directly, hence, we get cell, summary, and field data
from the ecl package.
KF 29/10-2015
Modified the ecl package to read RFT files. To obtain, e.g,. RFT pressures form well 'PRO-1" whichResponse
must be rft_PRESSURE PRO-1</p>
<hr></div>
</dd>
<dt id="simulator.eclipse.eclipse.store_fwd_debug"><code class="name flex">
<span>def <span class="ident">store_fwd_debug</span></span>(<span>self, assimstep)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="simulator.eclipse.eclipse.write_to_grid"><code class="name flex">
<span>def <span class="ident">write_to_grid</span></span>(<span>self, value, propname, path, dim, t_ind=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="simulator.eclipse.ecl_100"><code class="flex name class">
<span>class <span class="ident">ecl_100</span></span>
<span>(</span><span>input_dict=None, filename=None, options=None)</span>
</code></dt>
<dd>
<div class="desc"><p>ecl_100 class</p>
<p>The inputs are all optional, however, in the same fashion as the other simulators a system must be followed. The
input_dict can be utilized as a single input. Here all nescessary info is stored. Alternatively, if input_dict
is not defined, all the other input variables must be defined.</p>
<p>Input option 1:
- input_dict:
Dictionary containing all information required to run the simulator.</p>
<p>Input option 2:
- filename:
Name of the .mako file utilized to generate the ecl input .DATA file. Must be upper case
for the ecl simulator
- options:
Dict. with options for simulator
'sim_path':
Path to simulator</p>
<h2 id="output">Output</h2>
<p>A initial object from the class ecl_100</p>
<h2 id="kf-119-2015">KF 11/9-2015</h2></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="simulator.eclipse.eclipse" href="#simulator.eclipse.eclipse">eclipse</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="simulator.eclipse.ecl_100.call_sim"><code class="name flex">
<span>def <span class="ident">call_sim</span></span>(<span>self, path=None, wait_for_proc=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Method for calling the ecl_100 simulator.</p>
<h2 id="input">Input</h2>
<ul>
<li>Path:
Alternative folder for the ecl_100.data file</li>
<li>Wait_for_proc:
Logical variable to wait for the simulator to finish</li>
</ul>
<h2 id="output">Output</h2>
<ul>
<li>.RSM:
Run summary file, in the standard ecl format. (Well data are collected from this)</li>
<li>.RST:
Restart fine, in the standard ecl format. (Pressure and saturation data are collected from
this file)</li>
<li>.PRT
Info file, to be used for checking errors in the run
KF 14/9-2015</li>
</ul>
<hr></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="simulator.eclipse.eclipse" href="#simulator.eclipse.eclipse">eclipse</a></b></code>:
<ul class="hlist">
<li><code><a title="simulator.eclipse.eclipse.coarsen" href="#simulator.eclipse.eclipse.coarsen">coarsen</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.get_sim_results" href="#simulator.eclipse.eclipse.get_sim_results">get_sim_results</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.run_fwd_sim" href="#simulator.eclipse.eclipse.run_fwd_sim">run_fwd_sim</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.setup_fwd_run" href="#simulator.eclipse.eclipse.setup_fwd_run">setup_fwd_run</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.write_coarse" href="#simulator.eclipse.eclipse.write_coarse">write_coarse</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="simulator.eclipse.ecl_300"><code class="flex name class">
<span>class <span class="ident">ecl_300</span></span>
<span>(</span><span>input_dict=None, filename=None, options=None)</span>
</code></dt>
<dd>
<div class="desc"><p>eclipse 300 class</p>
<p>The inputs are all optional, however, in the same fashion as the other simulators a system must be followed. The
input_dict can be utilized as a single input. Here all nescessary info is stored. Alternatively, if input_dict
is not defined, all the other input variables must be defined.</p>
<p>Input option 1:
- input_dict:
Dictionary containing all information required to run the simulator.</p>
<p>Input option 2:
- filename:
Name of the .mako file utilized to generate the ecl input .DATA file. Must be upper case
for the ecl simulator
- options:
Dict. with options for simulator
'sim_path':
Path to simulator</p>
<h2 id="output">Output</h2>
<p>A initial object from the class ecl_100</p>
<h2 id="kf-119-2015">KF 11/9-2015</h2></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="simulator.eclipse.eclipse" href="#simulator.eclipse.eclipse">eclipse</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="simulator.eclipse.ecl_300.call_sim"><code class="name flex">
<span>def <span class="ident">call_sim</span></span>(<span>self, path=None, wait_for_proc=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Method for calling the ecl_300 simulator.</p>
<h2 id="input">Input</h2>
<ul>
<li>Path:
Alternative folder for the ecl_100.data file</li>
<li>Wait_for_proc:
Logical variable to wait for the simulator to finish</li>
</ul>
<h2 id="output">Output</h2>
<ul>
<li>.RSM:
Run summary file, in the standard ecl format. (Well data are collected from this)</li>
<li>.RST:
Restart fine, in the standard ecl format. (Pressure and saturation data are collected from
this file)</li>
<li>.PRT
Info file, to be used for checking errors in the run
KF 8/10-2015</li>
</ul>
<hr>
<p>NOTE: For now, this option is only utilized in a single localization option.</p></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="simulator.eclipse.eclipse" href="#simulator.eclipse.eclipse">eclipse</a></b></code>:
<ul class="hlist">
<li><code><a title="simulator.eclipse.eclipse.coarsen" href="#simulator.eclipse.eclipse.coarsen">coarsen</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.get_sim_results" href="#simulator.eclipse.eclipse.get_sim_results">get_sim_results</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.run_fwd_sim" href="#simulator.eclipse.eclipse.run_fwd_sim">run_fwd_sim</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.setup_fwd_run" href="#simulator.eclipse.eclipse.setup_fwd_run">setup_fwd_run</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.write_coarse" href="#simulator.eclipse.eclipse.write_coarse">write_coarse</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="simulator" href="index.html">simulator</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="simulator.eclipse.eclipse" href="#simulator.eclipse.eclipse">eclipse</a></code></h4>
<ul class="two-column">
<li><code><a title="simulator.eclipse.eclipse.setup_fwd_run" href="#simulator.eclipse.eclipse.setup_fwd_run">setup_fwd_run</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.run_fwd_sim" href="#simulator.eclipse.eclipse.run_fwd_sim">run_fwd_sim</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.remove_folder" href="#simulator.eclipse.eclipse.remove_folder">remove_folder</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.extract_data" href="#simulator.eclipse.eclipse.extract_data">extract_data</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.coarsen" href="#simulator.eclipse.eclipse.coarsen">coarsen</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.write_coarse" href="#simulator.eclipse.eclipse.write_coarse">write_coarse</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.get_sim_results" href="#simulator.eclipse.eclipse.get_sim_results">get_sim_results</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.store_fwd_debug" href="#simulator.eclipse.eclipse.store_fwd_debug">store_fwd_debug</a></code></li>
<li><code><a title="simulator.eclipse.eclipse.write_to_grid" href="#simulator.eclipse.eclipse.write_to_grid">write_to_grid</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="simulator.eclipse.ecl_100" href="#simulator.eclipse.ecl_100">ecl_100</a></code></h4>
<ul class="">
<li><code><a title="simulator.eclipse.ecl_100.call_sim" href="#simulator.eclipse.ecl_100.call_sim">call_sim</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="simulator.eclipse.ecl_300" href="#simulator.eclipse.ecl_300">ecl_300</a></code></h4>
<ul class="">
<li><code><a title="simulator.eclipse.ecl_300.call_sim" href="#simulator.eclipse.ecl_300.call_sim">call_sim</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>